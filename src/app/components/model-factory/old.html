<div class="container">
    <h1>Creating project: {{dataservice.new_projects_array.name}}</h1>
    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Home</button>
          <button class="nav-link" id="model-questions-tab" data-bs-toggle="tab" data-bs-target="#model-questions" type="button" role="tab" aria-controls="model-questions" aria-selected="false">Set Questions</button>
          <button class="nav-link" id="calculations-tab" data-bs-toggle="tab" data-bs-target="#calculations" type="button" role="tab" aria-controls="calculations" aria-selected="false">Calculations Settings</button>
          <button class="nav-link" id="reports-tab" data-bs-toggle="tab" data-bs-target="#reports" type="button" role="tab" aria-controls="reports" aria-selected="false">Report Settings</button>
          <button class="nav-link" id="reports-tab" data-bs-toggle="tab" data-bs-target="#verify" type="button" role="tab" aria-controls="reports" aria-selected="false">Verify & Save</button>
        </div>
      </nav>
      <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab" tabindex="0">
            <h3>Steps :</h3>
                <div class="mb-3 row">
                    <label class="mb-4" for="">
                        1.  Under <i>Set Questions</i>, click on <i>Add Question</i>. A popup will appear for you, on that popup, type your question and select the type of answer 
                        from the dropdown menu(i.e. either <i>multiple choice question</i> or a question that requires the person to type the answer <i>Text</i>
                    </label>
                    <label class="mb-4" for="">
                        2.  Under <i>Calculation Settings</i>, choose the questions you want to use for calculation
                    </label>
                    <label class="mb-4" for="">
                        3.  Under <i>Report Settings</i>, choose the questions you want to use for creating report, graphs, charts etc.
                    </label>
                    <label class="mb-4" for="">
                        4.  On the last tab <i>Calculation Settings</i>, verify all the data you've entered and save it to database
                    </label>
                    <label class="mb-4" for="">
                        5.  After saving the data, you will be redirected to the projects dashboard to see all the list of projects you have created
                    </label>
                </div>
        </div>

        <div class="tab-pane fade" id="model-questions" role="tabpanel" aria-labelledby="model-questions-tab" tabindex="0">
            <button data-bs-toggle="modal" data-bs-target="#add_questions" class="btn mt-3 btn-primary">+ Add Question</button>
            <!-- question model -->
            <div class="modal fade" id="add_questions" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h1 class="modal-title fs-5 text-center" id="staticBackdropLabel">Creating a New Question</h1>
                  </div>
                  <div class="modal-body">
                      
                      <div class="input-group mb-3">
                        <input [(ngModel)]="input_question" #question_text type="text" class="form-control" placeholder="Type your quetstion in here..." aria-label="Text input with dropdown button">
                        <select [(ngModel)]="type" (click)="question_type()" class="btn btn-secondary dropdown-toggle" id="inputGroupSelect01">
                          <option value="default" selected>---Type of Answer---</option>
                          <option value="text">Text</option>
                          <option value="number">number</option>
                          <option value="date">date</option>
                          <option value="radio">Multiple choice(option)</option>
                          <option value="checkbox">Multiple choice(select)</option>
                        </select>
                      </div>
                      <hr>
                      <div *ngIf="type !== 'default'" (click)="create_new_item_monitor()" class="card">
                        <div *ngIf="type !== 'text' || 'date'" (click)="create_new_item_monitor()" class="card">
                          <small><i>add possible answers to your question</i></small>
                          <div class="input-group m-3">
                            <input [(ngModel)]="input_answer" #new_answer type="text">
                            <button (click)="add_answer(new_answer.value)" class="btn btn-success btn-sm">+ new answer</button>
                          </div>
                          <div class="card-body">
                      
                            <div *ngIf="show_select">
                              <div *ngFor="let answer of answers; let i=index;" class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                                <label class="form-check-label" for="flexCheckDefault">
                                  {{answer}}
                                </label>
                                <button type="button" class="btn-close remove-btn" (click)="pop_option(i)" aria-label="Close"></button>
                              </div>
                            </div>
                      
                            <div *ngIf="show_radio">
                              <div *ngFor="let answer of answers; let i=index;" class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                                <label class="form-check-label" for="flexRadioDefault1">
                                  {{answer}}
                                </label>
                                <button type="button" class="btn-close remove-btn" (click)="pop_option(i)" aria-label="Close"></button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      
                  </div>
                  <div class="modal-footer">
                    <button type="button" data-bs-dismiss="modal" class="btn btn-secondary" >Cancel</button>
                    <button type="button"(click)="append_new_question(question_text.value)" data-bs-dismiss="modal"  class="btn btn-primary">add</button>
                  </div> 
                </div>
              </div>
            </div>
            <!-- question list -->
            <div *ngFor="let question of dataservice.new_projects_array.data[0].model.questions; let i=index;" class="form-check mb-3">
                <!-- <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"> -->
                <label class="form-check-label" for="flexCheckDefault">
                 {{i+1}}. {{question.question_text}}
                </label>
                    <div class="" *ngIf="question.question_type !== 'text'">
                        <div class="posible_answers form-check" *ngFor="let choice of dataservice.new_projects_array.data[0].model.questions[i].posible_answers; let ans_i=index" >
                            <input name="flexRadio" [type]="question.question_type" [id]="ans_i" class="form-check-input"><label for="" class="form-check-label">{{choice}}</label>
                        </div>
                    </div>
                    <div class="" *ngIf="question.question_type === 'text'|| 'date'">
                        <small><i>please enter your answer here: </i></small> <input [type]="question.question_type">
                    </div>
            </div>

        </div>
        <div class="tab-pane fade" id="Indicator" role="tabpanel" aria-labelledby="Indicator-tab" tabindex="0">
          <div *ngIf="!dataservice.new_projects_array.data[0].model.questions.length"  class="mt-3">
            <span>sorry, you can only perform Indicator if you have add questions in the previous tab</span>
          </div>
          <button *ngIf="!dataservice.new_projects_array.data[0].model.questions.length"  data-bs-toggle="modal" data-bs-target="#add_calc" class="btn mt-3 btn-primary">+ Add Question</button>

          <div *ngIf="!dataservice.new_projects_array.data[0].model.questions.length" class="modal fade" id="add_calc" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5 text-center" id="staticBackdropLabel">Creating a New Calculation</h1>
                </div>
                <div class="modal-body">
                  <div class="mb-3">
                    <input type="text" #calculation_name placeholder="please name the calculation" (keyup.enter)="onEnter(calculation_name.value)" class="form-control">
                    <hr>
                    <div *ngIf="calc.name" class="container">
                      Choose from this:   <span  class="btn" #symb (click)="eq_type(symbol)" *ngFor="let symbol of ['&#x2260;','&#x2264;','&#x2265;','&#x2211;','&#x3d;']"  style="background-color:#dee2e6;">{{symbol}}</span>  
                        <span class="row">{{calc.name}}<input disabled style="width: 40px; margin-left: 20px;" [(ngModel)]="calc.equation[0]" type="text"> <input style="width: 100px; margin-left: 20px;" *ngIf="calc.equation[0]" type="text"></span>     
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" data-bs-dismiss="modal" class="btn btn-secondary" >Cancel</button>
                  <button type="button"(click)="append_new_calc(question_text.value)" data-bs-dismiss="modal"  class="btn btn-primary">add</button>
                </div> 
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="tab-pane fade" id="calculations" role="tabpanel" aria-labelledby="calculations-tab" tabindex="0">
          <div *ngIf="!dataservice.new_projects_array.data[0].model.questions.length"  class="mt-3">
            <span>sorry, you can only perform calculations if you have add questions in the previous tab</span>
          </div>
          <button *ngIf="!dataservice.new_projects_array.data[0].model.questions.length"  data-bs-toggle="modal" data-bs-target="#add_calc" class="btn mt-3 btn-primary">+ Add Question</button>

          <div *ngIf="!dataservice.new_projects_array.data[0].model.questions.length" class="modal fade" id="add_calc" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5 text-center" id="staticBackdropLabel">Creating a New Calculation</h1>
                </div>
                <div class="modal-body">
                  <div class="mb-3">
                    <input type="text" #calculation_name placeholder="please name the calculation" (keyup.enter)="onEnter(calculation_name.value)" class="form-control">
                    <hr>
                    <div *ngIf="calc.name" class="container">
                      Choose from this:   <span  class="btn" #symb (click)="eq_type(symbol)" *ngFor="let symbol of ['&#x2260;','&#x2264;','&#x2265;','&#x2211;','&#x3d;']"  style="background-color:#dee2e6;">{{symbol}}</span>  
                        <span class="row">{{calc.name}}<input disabled style="width: 40px; margin-left: 20px;" [(ngModel)]="calc.equation[0]" type="text"> <input style="width: 100px; margin-left: 20px;" *ngIf="calc.equation[0]" type="text"></span>     
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" data-bs-dismiss="modal" class="btn btn-secondary" >Cancel</button>
                  <button type="button"(click)="append_new_calc(question_text.value)" data-bs-dismiss="modal"  class="btn btn-primary">add</button>
                </div> 
              </div>
            </div>
          </div>
        </div> -->

        <div class="tab-pane fade" id="reports" role="tabpanel" aria-labelledby="reports-tab" tabindex="0">...</div>

        <div class="tab-pane fade" id="verify" role="tabpanel" aria-labelledby="nav-home-tab" tabindex="0">
            <div class="mb-3 row">
                <label for="Proj_name" class="col-sm-2 col-form-label">Project Name</label>
                <div class="col-sm-10">
                    <input type="text" readonly class="form-control-plaintext" id="Proj_name" [value]="dataservice.new_projects_array.name">
                </div>
            </div>
            <div class="mb-3 row">
                <label for="set_questions" class="col-sm-2 col-form-label">Number of questions</label>
                <div class="col-sm-10">
                    <input type="text" readonly class="form-control-plaintext" id="set_questions" [value]="dataservice.new_projects_array.data[0].model.questions.length">
                </div>
            </div>
            <div class="mb-3 row">
                <label for="calculations" class="col-sm-2 col-form-label">Calculations</label>
                <div class="col-sm-10">
                    <input type="text" readonly class="form-control-plaintext" id="calculations" [value]="dataservice.new_projects_array.data[0].model.calculations.length">
                </div>
            </div>
            <div class="mb-3 row">
                <label for="Reports" class="col-sm-2 col-form-label">Reports</label>
                <div class="col-sm-10">
                    <input type="text" readonly class="form-control-plaintext" id="Reports" [value]="dataservice.new_projects_array.data[0].model.reports.length">
                </div>
            </div>
            <div class="mb-3 row">
                <label for="created_at" class="col-sm-2 col-form-label">Created At</label>
                <div class="col-sm-10">
                    <input type="text" readonly class="form-control-plaintext" id="created_at" value="wednesday 12 Jan, 2023">
                </div>
            </div>
            <button type="button"(click)="go_to_dashboard()" class="btn btn-success">Save</button>
        </div>
      </div>

















    
    <!-- <button data-bs-toggle="modal" data-bs-target="#create_new_model" class="btn btn-primary">add new model</button>

  <div class="modal fade" id="create_new_model" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5 text-center" id="staticBackdropLabel">Please select Model type</h1>
        </div>
        <div class="modal-body">
            <div (click)="create_new_survey()" class="card m-2" data-bs-dismiss="modal" style="width: 14rem;">
                <div class="card-body text-center">
                  <h5 class="card-title">+ Survey</h5>
                </div>
            </div>
            <div (click)="create_new_item_monitor()" class="card m-2" data-bs-dismiss="modal" style="width: 14rem;">
                <div class="card-body text-center">
                  <h5 class="card-title">+ Track Item usage</h5>
                </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" >Close</button>
          <button type="button" class="btn btn-primary">Understood</button>
        </div> 
      </div>
    </div>
  </div> -->
</div>
